# Frontend_ Просмотр истории операций по карте

## Цель: 
документ описывает раздел «История операций».

## История изменений
| Автор  | Дата изменения  | Версия изменений |Описание  | Задача  | 
|:------------- |:---------------:| -------------:|:------------- |:---------------:| 
|Кучиева О.Г.      | 15.09.2021  |    1.0 | Исходная версия документа     | TASK-1      |
## Ссылка на дизайн
TBD
## Общие требования к разделу
Раздел доступен всем клиентам ДБО, имеющим дебетовые карты (активные, заблокированные). Раздел открывается после входа в ДБО, перехода на экран «Карты» и нажатия на ссылку «Показать историю операций».
## Макет раздела
![](//placehold.it/150x100)
![](//placehold.it/150x100)
![](//placehold.it/150x100)
![](//placehold.it/150x100)

## Блок «История операций»
Для отображения истории  операции по карте Frontend инициирует вызов сервиса GET api/ cards/  operations /list  (должны отображаться операции по дебетовым картам)
В случае если от сервиса получена ошибка или пустой ответ, отображается экран с ошибкой. Текст сообщения «Что-то пошло не так, но мы уже знаем о проблеме…»
В случае если получен успешный ответ, Frontend отображает форму с параметрами:
| Поле  | Описание  | 
|:------------- |:---------------:| 
|Блок с операциями по карте    | Содержит экземпляры data/ cards/ {cardsId}/ operations [] ответа сервиса GET api/ cards/ {cardsId}/ operations /list | 
|Элемент операции  |  | 
|Дата и время совершения операции |Значение data /cards/ {cardsId}/ operations /date| 
|Название операции/название мерчанта |Значение data/ cards/ {cardsId}/ operations /nameMerch Если значение не получено, отображается data/ cards/ {cardsId}/ operations /name. В поле отображается 100 символов. Если значение больше, то отображается только часть текста и троеточие. При наведении на такую строку полный текст должен отображаться во всплывающей подсказке.| 
|Сумма операции |Значение data/ cards/ {cardsId}/ operations /sum Значение data/cards/ {cardsId}/ operations / cardSign В случае если получено значение: 'Debit' отобразить «+»,'Credit' отобразить текст «-»| 
|Категория операции |Значение data/ cards/ {cardsId}/ operations /category| 
|Иконка операции/мерчанта |Значение data/ cards/ {cardsId}/ operations / operationDesign| 
|Валюта операции |Значение data/ cards/ {cardsId}/ operations / currency| 

На экране отображаются действия, доступные с историей операций: 

| Действие  | Описание  | 
|:------------- |:---------------:| 
|Полная история операций   | По нажатию на ссылку появляется раскрывающийся вниз блок с доступными фильтрами по типам операций, категориям, датам, суммам. По нажатию на ссылку применить осуществляется переход на новый экран, который отображает результат применения фильтров с возможностью повторного изменения параметров фильтрации и сортировкой по дате и сумме. При выборе фильтров за исключением фильтра по дате, отображаются операции за текущий месяц.| 
|Скрыть историю операций| Элемент представлен ссылкой. По нажатию на ссылку раскрывающийся внизу блок скрывается. | 